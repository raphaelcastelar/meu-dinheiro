<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base_template :: baseHead (pageTitle='Categorias')}"></head>
<body>
<!-- Cabeçalho -->
<header th:replace="~{base_template :: baseHeaderPage}"></header>

<!-- Conteúdo Principal -->
<div th:replace="~{base_template :: content(mainTitle='Categorias', subTitle='Gerencie suas categorias de receitas e despesas.')}">
    <!-- Inserir conteúdo personalizado dentro do div.content -->
    <div th:insert="~{this :: #contentFragment}"></div>
</div>

<!-- Rodapé -->
<footer th:replace="~{base_template :: baseFooter}"></footer>

<!-- Fragmento de Conteúdo Personalizado -->
<div th:fragment="contentFragment" class="content">
    <!-- Formulário para Criar Nova Categoria -->
    <div class="form-section">
        <h3>Adicionar Nova Categoria</h3>
        <form th:action="@{/categoria}" th:object="${newCategoria}" method="post" class="form-container">
            <div class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" th:field="*{nome}" id="nome" required class="form-input" />
            </div>
            <div class="form-group">
                <label for="descricao">Descrição:</label>
                <input type="text" th:field="*{descricao}" id="descricao" class="form-input" />
            </div>
            <div class="form-group">
                <label for="tipo">Tipo:</label>
                <select th:field="*{tipo}" id="tipo" required class="form-input">
                    <option value="RECEITA">Receita</option>
                    <option value="DESPESA">Despesa</option>
                </select>
            </div>
            <button type="submit" class="btn-submit">Salvar Nova Categoria</button>
        </form>
    </div>

    <div class="table-section">
        <h3>Lista de Categorias</h3>
        <table class="report-table">
            <thead>
            <tr>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Tipo</th>
                <th>Ações</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="categoria : ${categorias}">
                <td th:text="${categoria.nome}">N/A</td>
<<<<<<< Updated upstream
                <td><input type="text" name="descricao" th:value="${categoria.descricao}" class="table-input" /></td>
                <td><select name="tipo" class="table-input">
                    <option th:value="RECEITA" th:selected="${categoria.tipo == 'RECEITA'}">Receita</option>
                    <option th:value="DESPESA" th:selected="${categoria.tipo == 'DESPESA'}">Despesa</option>
                </select></td>
=======
>>>>>>> Stashed changes
                <td>
                    <form th:action="@{/categoria/update/{id}(id=${categoria.id})}" method="post">
                        <input type="hidden" name="_method" value="put" />
                        <input type="text" name="descricao" th:value="${categoria.descricao}" class="table-input" />
                </td>
                <td>
                    <select name="tipo" class="table-input">
                        <option value="RECEITA" th:selected="${categoria.tipo == T(br.edu.iff.meu_dinheiro.entities.TipoCategoria).RECEITA}">Receita</option>
                        <option value="DESPESA" th:selected="${categoria.tipo == T(br.edu.iff.meu_dinheiro.entities.TipoCategoria).DESPESA}">Despesa</option>
                    </select>
                </td>
                <td>
                    <button type="submit" class="btn-action">Atualizar</button>
                    </form>
                    <form th:action="@{/categoria/delete/{id}(id=${categoria.id})}" method="post">
                        <input type="hidden" name="_method" value="delete" />
                        <button type="submit" class="btn-delete" onclick="return confirm('Tem certeza que deseja deletar esta categoria?')">Deletar</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Estilos Adicionais -->
<style>
    .form-section, .table-section { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); margin-bottom: 20px; padding: 20px; }
    .form-group { margin-bottom: 15px; }
    .form-input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
    .btn-submit { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
    .btn-submit:hover { background-color: #45a049; }
    .report-table { border-radius: 8px; overflow: hidden; width: 100%; }
    .table-input { width: 100px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; }
    .btn-action { background-color: #2196F3; color: white; padding: 4px 8px; border: none; border-radius: 4px; cursor: pointer; margin-right: 5px; }
    .btn-action:hover { background-color: #1976D2; }
    .btn-delete { background-color: #f44336; color: white; padding: 4px 8px; border: none; border-radius: 4px; cursor: pointer; }
    .btn-delete:hover { background-color: #d32f2f; }
</style>
</body>
</html>