<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base_template :: baseHead}"></head>

<body>
    <header th:replace="~{base_template :: baseHeaderPage}"></header>

    <div class="main-content">
        <div th:with="mainTitle=${'Gerenciar Despesas - ' + (userName ?: 'JoÃ£o')}, subTitle='Adicione ou edite despesas abaixo.'"
             th:replace="~{base_template :: content(mainTitle=${mainTitle}, subTitle=${subTitle})}"></div>
    </div>

    <div class="form-section">
        <div th:with="formTitle='Nova Despesa', routePrefix='expenses', item=${item != null ? item : #objects.instantiate('br.edu.iff.meu_dinheiro.entities.Despesa')}, 
                      fieldNames=${T(java.util.Arrays).asList('descricao', 'valor', 'data', 'categoria.nome')}"
             th:replace="~{base_template :: form-section(formTitle=${formTitle}, routePrefix=${routePrefix}, item=${item}, fieldNames=${fieldNames})}"></div>
    </div>

    <div class="table-section">
        <div th:with="routePrefix='expenses', items=${expenses != null ? expenses : T(java.util.Collections).emptyList()}"
             th:replace="~{base_template :: table-section(routePrefix=${routePrefix}, items=${items})}"></div>
    </div>

    <footer th:replace="~{base_template :: baseFooter}"></footer>
</body>
</html>