<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base_template :: baseHead}"></head>

<body>
    <header th:replace="~{base_template :: baseHeaderPage}"></header>

    <div class="main-content max-w-5xl mx-auto p-6" style="background-color: #f3f4f6; font-family: 'Arial', sans-serif;">
        <div th:replace="~{base_template :: content(mainTitle='Receita Mensal', subTitle='Visualize o resumo financeiro.')}"></div>

        <!-- Formulário para adicionar item temporário -->
        <div class="card mt-6" style="background-color: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 1.5rem;">
            <h3 class="text-xl font-semibold text-gray-700 mb-4" style="color: #374151;">Adicionar Nova Receita</h3>
            <form id="formReceita" class="space-y-6">
                <div>
                    <label for="descricao" class="block text-sm font-medium text-gray-600" style="color: #4b5563;">Descrição</label>
                    <input type="text" id="descricao" name="descricao" class="mt-2 p-3 w-full border rounded-md" style="border-color: #d1d5db; border-radius: 6px; font-size: 1rem; padding: 0.75rem;" placeholder="Ex.: Salário" required>
                </div>
                <div>
                    <label for="valor" class="block text-sm font-medium text-gray-600" style="color: #4b5563;">Valor (R$)</label>
                    <input type="number" id="valor" name="valor" step="0.01" class="mt-2 p-3 w-full border rounded-md" style="border-color: #d1d5db; border-radius: 6px; font-size: 1rem; padding: 0.75rem;" placeholder="0.00" required>
                </div>
                <button type="submit" class="px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600" style="background-color: #3b82f6; color: white; border-radius: 6px; padding: 0.625rem 1.5rem; font-size: 1rem;">
                    Adicionar Receita
                </button>
            </form>
        </div>

        <!-- Tabela de Receitas -->
        <div class="table-section mt-6" id="tableSection" style="margin-top: 1.5rem;">
            <table id="tabelaReceitas" class="w-full border-collapse border border-gray-300">
                <thead>
                    <tr style="background-color: #e5e7eb;">
                        <th class="border border-gray-300 px-4 py-2">Descrição</th>
                        <th class="border border-gray-300 px-4 py-2">Valor (R$)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- As receitas adicionadas vão aparecer aqui -->
                </tbody>
            </table>
        </div>
    </div>

    <footer th:replace="~{base_template :: baseFooter}"></footer>

    <script>
        document.getElementById("formReceita").addEventListener("submit", function(event) {
            event.preventDefault(); // impede o reload da página

            const descricao = document.getElementById("descricao").value;
            const valor = document.getElementById("valor").value;

            if (descricao && valor) {
                const tabela = document.getElementById("tabelaReceitas").querySelector("tbody");

                // cria nova linha
                const novaLinha = document.createElement("tr");

                // cria colunas
                const tdDescricao = document.createElement("td");
                tdDescricao.textContent = descricao;
                tdDescricao.className = "border border-gray-300 px-4 py-2";

                const tdValor = document.createElement("td");
                tdValor.textContent = "R$ " + parseFloat(valor).toFixed(2);
                tdValor.className = "border border-gray-300 px-4 py-2";

                // adiciona colunas na linha
                novaLinha.appendChild(tdDescricao);
                novaLinha.appendChild(tdValor);

                // adiciona linha na tabela
                tabela.appendChild(novaLinha);

                // limpa inputs
                document.getElementById("formReceita").reset();
            }
        });
    </script>
</body>
</html>
